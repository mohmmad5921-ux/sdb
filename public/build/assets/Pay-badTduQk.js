import{u as p,E as w,G as k,c as o,a as _,b as d,h as S,d as e,t as n,f as m,m as D,g as j,k as B,F as b,j as A,r as M,q as y,o as i}from"./app-D1DEixmb.js";const N={class:"min-h-screen bg-[#0a0f1c] flex items-center justify-center p-6"},P={class:"w-full max-w-md"},F={class:"text-center mb-8"},L={class:"w-16 h-16 bg-emerald-500/20 rounded-2xl flex items-center justify-center text-emerald-400 text-2xl font-bold mx-auto mb-4"},V={class:"text-white text-xl font-bold"},E={key:0,class:"text-gray-400 text-sm"},I={class:"bg-white/[0.03] border border-white/10 rounded-2xl overflow-hidden"},U={class:"p-6 text-center border-b border-white/5"},$={class:"text-4xl font-black text-white"},G={key:0,class:"text-sm text-gray-500 mt-2"},q={key:1,class:"text-xs text-gray-600 mt-1"},C={key:0,class:"p-8 text-center"},O={key:1,class:"p-8 text-center"},z={key:2,class:"p-6"},H={class:"flex justify-between items-center mb-6"},J={class:"text-yellow-400 font-mono font-bold"},K={key:0,class:"text-center py-6"},Q=["href"],R=["value"],T={key:0,class:"bg-red-500/10 border border-red-500/20 rounded-xl px-4 py-3 text-red-400 text-sm"},W=["disabled"],Y={__name:"Pay",props:{session:Object,accounts:Array,isAuthenticated:Boolean},setup(s){const c=s,r=p({account_id:c.accounts?.[0]?.id||""}),v=()=>r.post(route("checkout.process",c.session.session_id)),x=M("");let u;w(()=>{u=setInterval(()=>{const l=new Date(c.session.expires_at)-new Date;if(l<=0){x.value="Ù…Ù†ØªÙ‡ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©",clearInterval(u);return}const t=Math.floor(l/6e4),a=Math.floor(l%6e4/1e3);x.value=`${t}:${a.toString().padStart(2,"0")}`},1e3)}),k(()=>clearInterval(u));const f=(l,t)=>Number(l).toLocaleString("en-US",{minimumFractionDigits:2})+" "+t,h=y(()=>c.session.status==="paid"),g=y(()=>c.session.status==="expired"||new Date(c.session.expires_at)<new Date);return(l,t)=>(i(),o(b,null,[_(d(S),{title:`Pay ${s.session.merchant.name}`},null,8,["title"]),e("div",N,[e("div",P,[e("div",F,[e("div",L,n(s.session.merchant.name.charAt(0)),1),e("h1",V,n(s.session.merchant.name),1),s.session.merchant.name_ar?(i(),o("p",E,n(s.session.merchant.name_ar),1)):m("",!0)]),e("div",I,[e("div",U,[t[1]||(t[1]=e("div",{class:"text-gray-400 text-sm mb-2"},"Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨",-1)),e("div",$,n(f(s.session.amount,s.session.currency_code)),1),s.session.description?(i(),o("div",G,n(s.session.description),1)):m("",!0),s.session.order_id?(i(),o("div",q,"Ø·Ù„Ø¨: "+n(s.session.order_id),1)):m("",!0)]),h.value?(i(),o("div",C,[...t[2]||(t[2]=[e("div",{class:"text-5xl mb-4"},"âœ…",-1),e("div",{class:"text-emerald-400 text-xl font-bold"},"ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­!",-1),e("div",{class:"text-gray-400 text-sm mt-2"},"Payment completed",-1)])])):g.value?(i(),o("div",O,[...t[3]||(t[3]=[e("div",{class:"text-5xl mb-4"},"â°",-1),e("div",{class:"text-red-400 text-xl font-bold"},"Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¬Ù„Ø³Ø©",-1),e("div",{class:"text-gray-400 text-sm mt-2"},"Session expired",-1)])])):(i(),o("div",z,[e("div",H,[t[4]||(t[4]=e("span",{class:"text-gray-400 text-sm"},"Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ",-1)),e("span",J,n(x.value),1)]),s.isAuthenticated?(i(),o("form",{key:1,onSubmit:D(v,["prevent"]),class:"space-y-4"},[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm text-gray-400 mb-2"},"Ø§Ø¯ÙØ¹ Ù…Ù† Ø­Ø³Ø§Ø¨",-1)),j(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>d(r).account_id=a),class:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:border-emerald-500"},[(i(!0),o(b,null,A(s.accounts,a=>(i(),o("option",{key:a.id,value:a.id},n(a.currency?.code)+" â€” "+n(Number(a.balance).toLocaleString())+" "+n(a.currency?.symbol),9,R))),128))],512),[[B,d(r).account_id]])]),d(r).errors.payment?(i(),o("div",T,n(d(r).errors.payment),1)):m("",!0),e("button",{type:"submit",disabled:d(r).processing,class:"w-full py-4 bg-emerald-600 hover:bg-emerald-500 rounded-xl text-white font-bold text-lg transition-all shadow-lg shadow-emerald-500/20 disabled:opacity-50"},n(d(r).processing?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¯ÙØ¹...":"Ø§Ø¯ÙØ¹ Ø§Ù„Ø¢Ù†"),9,W),t[7]||(t[7]=e("div",{class:"text-center"},[e("div",{class:"flex items-center justify-center gap-2 text-gray-500 text-xs"},[e("span",null,"ğŸ”’"),e("span",null,"Ù…Ø¤Ù…Ù‘Ù† Ø¨ÙˆØ§Ø³Ø·Ø© Ø³ÙˆØ±ÙŠØ§ Ø¯ÙŠØ¬ÙŠØªØ§Ù„ Ø¨Ù†Ùƒ"),e("span",null,"Secured by Syria Digital Bank")])],-1))],32)):(i(),o("div",K,[t[5]||(t[5]=e("p",{class:"text-gray-400 mb-4"},"ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø¯ÙØ¹",-1)),e("a",{href:l.route("login"),class:"inline-block px-6 py-3 bg-emerald-600 hover:bg-emerald-500 rounded-xl text-white font-semibold transition-colors"},"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",8,Q)]))]))]),t[8]||(t[8]=e("div",{class:"text-center mt-6 text-gray-600 text-xs"},"Syria Digital Bank Payment Gateway v1.0",-1))])])],64))}};export{Y as default};

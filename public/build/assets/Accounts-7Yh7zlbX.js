import{r as f,u as q,c as n,a as k,b as d,h as K,w as C,d as t,t as l,l as w,e as E,o as a,f as x,n as v,g as y,i as O,v as j,F as A,j as $,k as N,m as S,p as U,T as H,q as R,s as G,x as V}from"./app-D1DEixmb.js";import{_ as P}from"./AuthenticatedLayout-m-ZGDhHf.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CidmdOxk.js";const Q={class:"aa-root"},W={class:"aa-header"},X={class:"max-w-7xl mx-auto px-6 py-6 flex items-center justify-between"},Y={class:"text-sm text-[#8896AB] mt-1"},Z={key:0,class:"max-w-7xl mx-auto px-6 mt-4"},tt={class:"bg-emerald-50 border border-emerald-200 rounded-xl px-4 py-3 text-emerald-700 text-sm"},et={class:"max-w-7xl mx-auto px-6 py-6 space-y-6"},st={class:"grid grid-cols-5 gap-3"},lt={class:"aa-stat"},at={class:"text-2xl font-black text-[#1A2B4A]"},ot={class:"text-2xl font-black text-emerald-600"},nt={class:"text-2xl font-black text-[#1E5EFF]"},dt={class:"text-2xl font-black text-red-500"},it={class:"aa-stat"},rt={class:"text-2xl font-black text-emerald-600"},ut={class:"flex items-center gap-3 flex-wrap"},ct=["value"],xt={class:"aa-card overflow-hidden"},mt={class:"overflow-x-auto"},vt={class:"aa-table"},bt=["onClick"],pt={class:"flex items-center gap-3"},ft={class:"aa-avatar"},yt={class:"text-sm font-semibold text-[#1A2B4A]"},At={class:"text-xs text-[#8896AB]"},gt={class:"text-[10px] font-mono text-[#1E5EFF]"},_t={class:"font-mono text-sm text-[#1A2B4A]"},kt={class:"font-mono text-xs text-[#8896AB]"},Bt={class:"text-lg"},Ft={class:"text-sm text-[#5A6B82]"},ht={class:"font-bold text-[#1A2B4A] text-lg"},Ct={class:"text-center"},wt={class:"flex justify-center gap-1"},Et=["onClick"],jt=["onClick"],$t=["onClick"],St=["onClick"],zt={key:0,class:"aa-expanded-row"},Dt={colspan:"7"},Nt={class:"p-4 bg-[#FAFBFC] rounded-xl border border-[#E8ECF1] mx-2 my-1"},Ut={class:"grid grid-cols-4 gap-4 text-sm"},Vt={class:"font-mono font-bold text-[#1A2B4A]"},Mt={class:"font-mono text-[#1A2B4A] text-xs"},Lt={class:"text-[#1A2B4A]"},Tt={class:"text-[#1A2B4A]"},It={class:"font-bold text-lg text-[#1A2B4A]"},qt={class:"font-bold text-lg text-emerald-600"},Kt={class:"text-[#1A2B4A] font-mono"},Ot={key:0,class:"flex justify-center gap-2 mt-6"},Ht={class:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl border border-[#E8ECF1]",style:{direction:"rtl"}},Rt={class:"text-[#8896AB] text-sm mb-2"},Gt={class:"p-3 bg-[#F0F4FF] rounded-xl mb-4 text-sm"},Pt={class:"font-bold text-[#1E5EFF]"},Jt={class:"grid grid-cols-2 gap-4"},Qt={key:0,class:"p-2 bg-red-50 border border-red-200 rounded-lg text-xs text-red-600"},Wt={key:1,class:"text-red-500 text-xs"},Xt={class:"flex gap-3"},Yt=["disabled"],Zt={__name:"Accounts",props:{accounts:Object,filters:Object,stats:Object,currencies:Array},setup(u){const B=u,z=R(()=>G().props.flash||{}),b=f(B.filters?.search||""),r=f(B.filters?.status||""),p=f(B.filters?.currency||""),m=()=>V.get(route("admin.accounts"),{search:b.value,status:r.value||void 0,currency:p.value||void 0},{preserveState:!0}),i=q({amount:"",type:"credit",reason:""}),c=f(null),M=o=>{c.value=o,i.reset()},L=()=>i.post(route("admin.accounts.adjust",c.value.id),{onSuccess:()=>{c.value=null,i.reset()}}),F=(o,e)=>{e==="closed"&&!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥ØºÙ„Ø§Ù‚ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ")||V.patch(route("admin.accounts.status",o.id),{status:e})},h=f(null),T=o=>h.value=h.value===o?null:o,D={active:"aa-badge-green",frozen:"aa-badge-blue",closed:"aa-badge-red"},g=(o,e="â‚¬")=>Number(o).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" "+e,I=o=>o>=1e6?(o/1e6).toFixed(1)+"M":o>=1e3?(o/1e3).toFixed(1)+"K":Number(o).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(o,e)=>(a(),n(A,null,[k(d(K),{title:"Accounts - Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª"}),k(P,null,{default:C(()=>[t("div",Q,[t("div",W,[t("div",X,[t("div",null,[e[12]||(e[12]=t("h1",{class:"text-2xl font-bold text-[#1A2B4A]"},"ðŸ¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØµØ±ÙÙŠØ©",-1)),t("p",Y,l(u.accounts.total)+" Ø­Ø³Ø§Ø¨ Ù…Ø³Ø¬Ù„ â€” ØªØ­ÙƒÙ… Ø´Ø§Ù…Ù„ Ø¨Ø§Ù„Ø£Ø±ØµØ¯Ø© ÙˆØ§Ù„Ø­Ø§Ù„Ø§Øª",1)]),k(d(w),{href:o.route("admin.dashboard"),class:"aa-back"},{default:C(()=>[...e[13]||(e[13]=[E("â† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",-1)])]),_:1},8,["href"])])]),z.value.success?(a(),n("div",Z,[t("div",tt,"âœ“ "+l(z.value.success),1)])):x("",!0),t("div",et,[t("div",st,[t("div",lt,[t("div",at,l(u.stats.total),1),e[14]||(e[14]=t("div",{class:"text-[10px] text-[#8896AB] mt-1"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª",-1))]),t("button",{onClick:e[0]||(e[0]=s=>{r.value=r.value==="active"?"":"active",m()}),class:v([{"aa-stat-active":r.value==="active"},"aa-stat"])},[t("div",ot,l(u.stats.active),1),e[15]||(e[15]=t("div",{class:"text-[10px] text-[#8896AB] mt-1"},"âœ… Ù†Ø´Ø·",-1))],2),t("button",{onClick:e[1]||(e[1]=s=>{r.value=r.value==="frozen"?"":"frozen",m()}),class:v([{"aa-stat-active-blue":r.value==="frozen"},"aa-stat"])},[t("div",nt,l(u.stats.frozen),1),e[16]||(e[16]=t("div",{class:"text-[10px] text-[#8896AB] mt-1"},"â„ï¸ Ù…Ø¬Ù…Ù‘Ø¯",-1))],2),t("button",{onClick:e[2]||(e[2]=s=>{r.value=r.value==="closed"?"":"closed",m()}),class:v([{"aa-stat-active-red":r.value==="closed"},"aa-stat"])},[t("div",dt,l(u.stats.closed),1),e[17]||(e[17]=t("div",{class:"text-[10px] text-[#8896AB] mt-1"},"ðŸ”’ Ù…ØºÙ„Ù‚",-1))],2),t("div",it,[t("div",rt,l(I(u.stats.total_balance_eur))+"â‚¬",1),e[18]||(e[18]=t("div",{class:"text-[10px] text-[#8896AB] mt-1"},"ðŸ’° Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±ØµØ¯Ø©",-1))])]),t("div",ut,[y(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>b.value=s),onKeyup:O(m,["enter"]),type:"text",placeholder:"Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ IBANØŒ Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ØŒ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„...",class:"aa-search"},null,544),[[j,b.value]]),y(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>p.value=s),onChange:m,class:"aa-filter-select"},[e[19]||(e[19]=t("option",{value:""},"ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª",-1)),(a(!0),n(A,null,$(u.currencies,s=>(a(),n("option",{key:s,value:s},l(s),9,ct))),128))],544),[[N,p.value]]),b.value||r.value||p.value?(a(),n("button",{key:0,onClick:e[5]||(e[5]=s=>{b.value="",r.value="",p.value="",m()}),class:"aa-clear-btn"},"âœ• Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±")):x("",!0)]),t("div",xt,[t("div",mt,[t("table",vt,[e[30]||(e[30]=t("thead",null,[t("tr",null,[t("th",null,"Ø§Ù„Ø¹Ù…ÙŠÙ„"),t("th",null,"Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨"),t("th",null,"IBAN"),t("th",null,"Ø§Ù„Ø¹Ù…Ù„Ø©"),t("th",null,"Ø§Ù„Ø±ØµÙŠØ¯"),t("th",{class:"text-center"},"Ø§Ù„Ø­Ø§Ù„Ø©"),t("th",{class:"text-center"},"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),t("tbody",null,[(a(!0),n(A,null,$(u.accounts.data,s=>(a(),n(A,{key:s.id},[t("tr",{onClick:_=>T(s.id),class:"cursor-pointer"},[t("td",null,[t("div",pt,[t("div",ft,l(s.user?.full_name?.charAt(0)),1),t("div",null,[t("div",yt,l(s.user?.full_name),1),t("div",At,l(s.user?.email),1),t("div",gt,l(s.user?.customer_number),1)])])]),t("td",_t,l(s.account_number),1),t("td",kt,l(s.iban),1),t("td",null,[t("span",Bt,l(s.currency?.symbol),1),e[20]||(e[20]=E()),t("span",Ft,l(s.currency?.code),1)]),t("td",ht,l(g(s.balance,s.currency?.symbol)),1),t("td",Ct,[t("span",{class:v([D[s.status],"aa-badge"])},l(s.status==="active"?"Ù†Ø´Ø·":s.status==="frozen"?"Ù…Ø¬Ù…Ù‘Ø¯":"Ù…ØºÙ„Ù‚"),3)]),t("td",{class:"text-center",onClick:e[6]||(e[6]=S(()=>{},["stop"]))},[t("div",wt,[t("button",{onClick:_=>M(s),class:"aa-act aa-act-yellow"},"ðŸ’° ØªØ¹Ø¯ÙŠÙ„ Ø±ØµÙŠØ¯",8,Et),s.status==="active"?(a(),n("button",{key:0,onClick:_=>F(s,"frozen"),class:"aa-act aa-act-blue"},"â„ï¸ ØªØ¬Ù…ÙŠØ¯",8,jt)):x("",!0),s.status==="frozen"?(a(),n("button",{key:1,onClick:_=>F(s,"active"),class:"aa-act aa-act-green"},"âœ… ØªÙØ¹ÙŠÙ„",8,$t)):x("",!0),s.status!=="closed"?(a(),n("button",{key:2,onClick:_=>F(s,"closed"),class:"aa-act aa-act-red"},"ðŸ”’ Ø¥ØºÙ„Ø§Ù‚",8,St)):x("",!0),k(d(w),{href:o.route("admin.users.show",s.user?.id),class:"aa-act aa-act-purple"},{default:C(()=>[...e[21]||(e[21]=[E("ðŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„",-1)])]),_:1},8,["href"])])])],8,bt),h.value===s.id?(a(),n("tr",zt,[t("td",Dt,[t("div",Nt,[t("div",Ut,[t("div",null,[e[22]||(e[22]=t("span",{class:"text-[#8896AB] block text-xs mb-1"},"Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨",-1)),t("span",Vt,l(s.account_number),1)]),t("div",null,[e[23]||(e[23]=t("span",{class:"text-[#8896AB] block text-xs mb-1"},"IBAN",-1)),t("span",Mt,l(s.iban),1)]),t("div",null,[e[24]||(e[24]=t("span",{class:"text-[#8896AB] block text-xs mb-1"},"Ø§Ù„Ø¹Ù…Ù„Ø©",-1)),t("span",Lt,l(s.currency?.name_ar||s.currency?.name)+" ("+l(s.currency?.code)+")",1)]),t("div",null,[e[25]||(e[25]=t("span",{class:"text-[#8896AB] block text-xs mb-1"},"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡",-1)),t("span",Tt,l(new Date(s.created_at).toLocaleDateString("ar-EG",{day:"numeric",month:"short",year:"numeric"})),1)]),t("div",null,[e[26]||(e[26]=t("span",{class:"text-[#8896AB] block text-xs mb-1"},"Ø§Ù„Ø±ØµÙŠØ¯ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©",-1)),t("span",It,l(g(s.balance,s.currency?.symbol)),1)]),t("div",null,[e[27]||(e[27]=t("span",{class:"text-[#8896AB] block text-xs mb-1"},"Ø§Ù„Ø±ØµÙŠØ¯ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ (EUR)",-1)),t("span",qt,l(g(s.balance*(s.currency?.exchange_rate_to_eur||1))),1)]),t("div",null,[e[28]||(e[28]=t("span",{class:"text-[#8896AB] block text-xs mb-1"},"Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù Ù„Ù„Ø¹Ù…ÙŠÙ„",-1)),t("span",Kt,"1 "+l(s.currency?.code)+" = "+l(s.currency?.exchange_rate_to_eur||1)+" EUR",1)]),t("div",null,[e[29]||(e[29]=t("span",{class:"text-[#8896AB] block text-xs mb-1"},"Ø§Ù„Ø­Ø§Ù„Ø©",-1)),t("span",{class:v([D[s.status],"aa-badge"])},l(s.status),3)])])])])])):x("",!0)],64))),128))])])])]),u.accounts.last_page>1?(a(),n("div",Ot,[(a(!0),n(A,null,$(u.accounts.links,s=>(a(),U(d(w),{key:s.label,href:s.url||"#",class:v(["aa-pg",s.active?"aa-pg-act":""]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])):x("",!0)]),(a(),U(H,{to:"body"},[c.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:e[11]||(e[11]=S(s=>c.value=null,["self"]))},[t("div",Ht,[e[36]||(e[36]=t("h3",{class:"text-xl font-bold text-[#1A2B4A] mb-1"},"ðŸ’° ØªØ¹Ø¯ÙŠÙ„ Ø±ØµÙŠØ¯",-1)),t("p",Rt,l(c.value.user?.full_name)+" â€” "+l(c.value.currency?.code),1),t("div",Gt,[e[31]||(e[31]=t("span",{class:"text-[#8896AB]"},"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ: ",-1)),t("span",Pt,l(g(c.value.balance,c.value.currency?.symbol)),1)]),t("form",{onSubmit:S(L,["prevent"]),class:"space-y-4"},[t("div",Jt,[t("div",null,[e[33]||(e[33]=t("label",{class:"block text-xs text-[#8896AB] mb-1"},"Ø§Ù„Ù†ÙˆØ¹",-1)),y(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>d(i).type=s),class:"aa-modal-input"},[...e[32]||(e[32]=[t("option",{value:"credit"},"âž• Ø¥Ø¶Ø§ÙØ© (Credit)",-1),t("option",{value:"debit"},"âž– Ø®ØµÙ… (Debit)",-1)])],512),[[N,d(i).type]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-xs text-[#8896AB] mb-1"},"Ø§Ù„Ù…Ø¨Ù„Øº",-1)),y(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>d(i).amount=s),type:"number",step:"0.01",min:"0.01",class:"aa-modal-input",required:""},null,512),[[j,d(i).amount]])])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-xs text-[#8896AB] mb-1"},"Ø§Ù„Ø³Ø¨Ø¨",-1)),y(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>d(i).reason=s),required:"",placeholder:"Ø³Ø¨Ø¨ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ (Ù…Ø·Ù„ÙˆØ¨)...",class:"aa-modal-input"},null,512),[[j,d(i).reason]])]),d(i).type==="debit"&&d(i).amount>c.value.balance?(a(),n("div",Qt,"âš ï¸ Ø§Ù„Ù…Ø¨Ù„Øº Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ!")):x("",!0),d(i).errors.amount?(a(),n("p",Wt,l(d(i).errors.amount),1)):x("",!0),t("div",Xt,[t("button",{type:"submit",disabled:d(i).processing,class:"flex-1 bg-[#1E5EFF] hover:bg-[#1047b8] text-white py-3 rounded-xl font-semibold disabled:opacity-50"},"ØªØ·Ø¨ÙŠÙ‚",8,Yt),t("button",{type:"button",onClick:e[10]||(e[10]=s=>c.value=null),class:"flex-1 bg-[#F0F2F5] text-[#5A6B82] py-3 rounded-xl"},"Ø¥Ù„ØºØ§Ø¡")])],32)])])):x("",!0)]))])]),_:1})],64))}},ae=J(Zt,[["__scopeId","data-v-494a9e0a"]]);export{ae as default};

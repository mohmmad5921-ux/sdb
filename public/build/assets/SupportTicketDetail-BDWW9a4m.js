import{u as k,c as d,a as c,b as i,h as g,w as f,d as t,t as a,l as w,e as y,o as r,f as A,F as _,j as B,n as m,m as F,g as S,v as C,x as D,q as M,s as E}from"./app-CGeM4hcv.js";import{_ as V}from"./AuthenticatedLayout-DuDTvB04.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DgnepM2X.js";const N={class:"sd-root"},T={class:"sd-header"},$={class:"max-w-3xl mx-auto px-6 py-4"},L={class:"flex justify-between items-start"},q={class:"text-xl font-bold text-[#1A2B4A]"},z={class:"text-xs text-[#8896AB] mt-1 flex items-center gap-2"},I={class:"font-mono text-[#1E5EFF]"},O={class:"flex gap-2 mt-3"},P={key:0,class:"max-w-3xl mx-auto px-6 mt-3"},U={class:"bg-emerald-50 border border-emerald-200 rounded-xl px-4 py-2 text-emerald-700 text-sm"},G={class:"flex-1 max-w-3xl mx-auto w-full px-6 py-4 overflow-y-auto"},H={class:"space-y-4"},J={class:"flex items-center gap-2 mb-2"},K={class:"text-[10px] text-[#8896AB]"},Q={class:"text-sm leading-relaxed whitespace-pre-wrap text-[#1A2B4A]"},R={class:"sd-reply-bar"},W=["disabled"],X={__name:"SupportTicketDetail",props:{ticket:Object},setup(o){const p=o,x=M(()=>E().props.flash||{}),l=k({message:""}),b=()=>l.post(route("admin.support.reply",p.ticket.id),{onSuccess:()=>l.reset()}),u=n=>D.patch(route("admin.support.status",p.ticket.id),{status:n}),v={open:"Ù…ÙØªÙˆØ­Ø©",in_progress:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©",waiting_customer:"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„",resolved:"ØªÙ… Ø§Ù„Ø­Ù„",closed:"Ù…ØºÙ„Ù‚Ø©"},h=n=>{if(!n)return"-";const s=Math.floor((Date.now()-new Date(n))/1e3);return s<60?"Ø§Ù„Ø¢Ù†":s<3600?Math.floor(s/60)+" Ø¯Ù‚ÙŠÙ‚Ø©":s<86400?Math.floor(s/3600)+" Ø³Ø§Ø¹Ø©":Math.floor(s/86400)+" ÙŠÙˆÙ…"};return(n,s)=>(r(),d(_,null,[c(i(g),{title:"Support: "+o.ticket.ticket_number},null,8,["title"]),c(V,null,{default:f(()=>[t("div",N,[t("div",T,[t("div",$,[t("div",L,[t("div",null,[t("h1",q,a(o.ticket.subject),1),t("div",z,[t("span",I,a(o.ticket.ticket_number),1),s[4]||(s[4]=t("span",null,"Â·",-1)),t("span",null,a(o.ticket.user?.full_name),1),s[5]||(s[5]=t("span",null,"Â·",-1)),t("span",null,a(v[o.ticket.status]),1)])]),c(i(w),{href:n.route("admin.support"),class:"sd-back"},{default:f(()=>[...s[6]||(s[6]=[y("â† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©",-1)])]),_:1},8,["href"])]),t("div",O,[t("button",{onClick:s[0]||(s[0]=e=>u("in_progress")),class:"sd-status-btn sd-btn-yellow"},"â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"),t("button",{onClick:s[1]||(s[1]=e=>u("resolved")),class:"sd-status-btn sd-btn-green"},"âœ… ØªÙ… Ø§Ù„Ø­Ù„"),t("button",{onClick:s[2]||(s[2]=e=>u("closed")),class:"sd-status-btn sd-btn-gray"},"ðŸ”’ Ø¥ØºÙ„Ø§Ù‚")])])]),x.value.success?(r(),d("div",P,[t("div",U,"âœ“ "+a(x.value.success),1)])):A("",!0),t("div",G,[t("div",H,[(r(!0),d(_,null,B(o.ticket.messages,e=>(r(),d("div",{key:e.id,class:m([e.is_admin?"ml-auto":"mr-auto","max-w-[80%]"])},[t("div",{class:m([e.is_admin?"sd-msg-admin":"sd-msg-user","rounded-2xl p-4"])},[t("div",J,[t("span",{class:m(["text-xs font-medium",e.is_admin?"text-[#1E5EFF]":"text-[#5A6B82]"])},a(e.is_admin?"ðŸ›¡ Ø£Ù†Øª (Ø§Ù„Ø¯Ø¹Ù…)":"ðŸ‘¤ "+e.user?.full_name),3),t("span",K,a(h(e.created_at)),1)]),t("p",Q,a(e.message),1)],2)],2))),128))])]),t("div",R,[t("form",{onSubmit:F(b,["prevent"]),class:"max-w-3xl mx-auto flex gap-3"},[S(t("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>i(l).message=e),placeholder:"Ø§ÙƒØªØ¨ Ø±Ø¯Ùƒ ÙƒØ¥Ø¯Ø§Ø±ÙŠ...",class:"sd-reply-input"},null,512),[[C,i(l).message]]),t("button",{type:"submit",disabled:!i(l).message||i(l).processing,class:"sd-reply-btn"},"Ø¥Ø±Ø³Ø§Ù„",8,W)],32)])])]),_:1})],64))}},et=j(X,[["__scopeId","data-v-d1d25610"]]);export{et as default};

import{c as o,a as k,b as m,h as w,w as _,d as t,o as n,F as u,j as x,l as f,n as d,t as l,y as C,p as z,e as h,f as c,r as F}from"./app-CGeM4hcv.js";import{_ as D}from"./AuthenticatedLayout-DuDTvB04.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DgnepM2X.js";const S={class:"rk-root"},E={class:"rk-sidebar"},L={class:"rk-nav"},T={class:"rk-main"},U={class:"rk-topbar"},V={class:"text-xs text-[#8896AB]"},$={class:"rk-content"},K={class:"grid grid-cols-4 lg:grid-cols-8 gap-3"},R={class:"rk-stat rk-stat-red"},Y={class:"text-2xl font-black"},j={class:"rk-stat rk-stat-yellow"},I={class:"text-2xl font-black"},M={class:"rk-stat rk-stat-blue"},G={class:"text-2xl font-black"},O={class:"rk-stat rk-stat-red"},q={class:"text-2xl font-black"},H={class:"rk-stat rk-stat-orange"},J={class:"text-2xl font-black"},P={class:"rk-stat rk-stat-red"},Q={class:"text-2xl font-black"},W={class:"rk-stat rk-stat-blue"},X={class:"text-2xl font-black"},Z={class:"rk-stat rk-stat-yellow"},tt={class:"text-2xl font-black"},st={class:"flex gap-2"},et={key:0,class:"rk-card"},lt={class:"overflow-x-auto"},nt={class:"rk-table"},ot={class:"flex items-center gap-2"},at={class:"rk-avatar"},rt={class:"text-sm font-semibold text-[#1A2B4A]"},it={class:"text-[10px] text-[#8896AB] font-mono"},dt={class:"text-sm text-[#5A6B82]"},ct={class:"text-lg font-black text-[#1A2B4A]"},ut={class:"rk-score-bar"},kt={class:"flex flex-wrap gap-1"},mt={class:"text-xs text-[#8896AB]"},_t={key:0,class:"py-10 text-center text-[#8896AB]"},xt={key:1,class:"rk-card"},ft={class:"overflow-x-auto"},ht={class:"rk-table"},vt={class:"flex items-center gap-2"},bt={class:"rk-avatar rk-avatar-red"},gt={class:"font-semibold text-[#1A2B4A]"},yt={class:"text-sm text-[#8896AB]"},At={class:"font-mono text-xs text-[#1E5EFF]"},pt={class:"text-xs text-[#8896AB]"},Bt={key:0,class:"py-10 text-center text-[#8896AB]"},wt={key:2,class:"rk-card"},Ct={class:"overflow-x-auto"},zt={class:"rk-table"},Ft={class:"font-mono text-xs text-[#1E5EFF]"},Dt={class:"flex items-center gap-2"},Nt={class:"rk-avatar rk-avatar-blue"},St={class:"font-semibold text-[#1A2B4A]"},Et={class:"font-mono text-xs text-[#8896AB]"},Lt={class:"text-lg"},Tt={class:"font-bold text-[#1A2B4A]"},Ut={key:0,class:"py-10 text-center text-[#8896AB]"},Vt={__name:"RiskCompliance",props:{largeTransactions:Array,suspiciousUsers:Array,frozenAccounts:Array,stats:Object,threshold:Number},setup(a){const v=r=>Number(r).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),b=r=>new Date(r).toLocaleDateString("ar-EG",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),i=F("transactions"),g=r=>r==="high"?"rk-risk-high":r==="medium"?"rk-risk-med":"rk-risk-low",y=r=>r==="high"?"ğŸ”´ Ø¹Ø§Ù„ÙŠ":r==="medium"?"ğŸŸ¡ Ù…ØªÙˆØ³Ø·":"ğŸŸ¢ Ù…Ù†Ø®ÙØ¶",A=[{label:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…",icon:"ğŸ“Š",route:"admin.dashboard"},{label:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",icon:"ğŸ“ˆ",route:"admin.reports"},{label:"Ø§Ù„Ù…Ø®Ø§Ø·Ø±",icon:"ğŸ›¡ï¸",route:"admin.risk",active:!0},{label:"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",icon:"ğŸ‘¥",route:"admin.users"},{label:"Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª",icon:"ğŸ¦",route:"admin.accounts"},{label:"Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª",icon:"ğŸ’³",route:"admin.cards"},{label:"Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª",icon:"ğŸ’¸",route:"admin.transactions"},{label:"KYC",icon:"ğŸªª",route:"admin.kyc"},{label:"Ø§Ù„Ø¹Ù…Ù„Ø§Øª",icon:"ğŸ’±",route:"admin.currencies"},{label:"Ø§Ù„ØªØ¬Ø§Ø±",icon:"ğŸ”Œ",route:"admin.merchants"},{label:"Ø§Ù„Ø¯Ø¹Ù…",icon:"ğŸ§",route:"admin.support"},{label:"Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚",icon:"ğŸ“‹",route:"admin.audit-logs"},{label:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",icon:"âš™ï¸",route:"admin.settings"}];return(r,e)=>(n(),o(u,null,[k(m(w),{title:"Risk & Compliance - Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„Ø§Ù…ØªØ«Ø§Ù„"}),k(D,null,{default:_(()=>[t("div",S,[t("aside",E,[e[3]||(e[3]=t("div",{class:"rk-logo"},[t("span",{class:"text-lg font-black text-[#1A2B4A]"},"SDB Admin")],-1)),t("nav",L,[(n(),o(u,null,x(A,s=>k(m(f),{key:s.route,href:r.route(s.route),class:d(["rk-nav-item",s.active?"rk-nav-active":""])},{default:_(()=>[t("span",null,l(s.icon),1),t("span",null,l(s.label),1)]),_:2},1032,["href","class"])),64))])]),t("main",T,[t("header",U,[e[4]||(e[4]=t("h2",{class:"text-lg font-bold text-[#1A2B4A]"},"ğŸ›¡ï¸ Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„Ø§Ù…ØªØ«Ø§Ù„ â€” AML Monitor",-1)),t("span",V,"Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©: "+l(v(a.threshold))+" â‚¬",1)]),t("div",$,[t("div",K,[t("div",R,[t("div",Y,l(a.stats.high_risk_tx),1),e[5]||(e[5]=t("div",{class:"text-[10px]"},"ğŸ”´ Ù…Ø®Ø§Ø·Ø± Ø¹Ø§Ù„ÙŠØ©",-1))]),t("div",j,[t("div",I,l(a.stats.medium_risk_tx),1),e[6]||(e[6]=t("div",{class:"text-[10px]"},"ğŸŸ¡ Ù…Ø®Ø§Ø·Ø± Ù…ØªÙˆØ³Ø·Ø©",-1))]),t("div",M,[t("div",G,l(a.stats.large_tx_today),1),e[7]||(e[7]=t("div",{class:"text-[10px]"},"ğŸ’¸ ÙƒØ¨ÙŠØ±Ø© Ø§Ù„ÙŠÙˆÙ…",-1))]),t("div",O,[t("div",q,l(a.stats.failed_tx_today),1),e[8]||(e[8]=t("div",{class:"text-[10px]"},"âŒ ÙØ§Ø´Ù„Ø© Ø§Ù„ÙŠÙˆÙ…",-1))]),t("div",H,[t("div",J,l(a.stats.suspended_users),1),e[9]||(e[9]=t("div",{class:"text-[10px]"},"âš ï¸ Ù…ÙˆÙ‚ÙˆÙ",-1))]),t("div",P,[t("div",Q,l(a.stats.blocked_users),1),e[10]||(e[10]=t("div",{class:"text-[10px]"},"ğŸš« Ù…Ø­Ø¸ÙˆØ±",-1))]),t("div",W,[t("div",X,l(a.stats.frozen_accounts),1),e[11]||(e[11]=t("div",{class:"text-[10px]"},"â„ï¸ Ø­Ø³Ø§Ø¨ Ù…Ø¬Ù…Ù‘Ø¯",-1))]),t("div",Z,[t("div",tt,l(a.stats.pending_kyc),1),e[12]||(e[12]=t("div",{class:"text-[10px]"},"ğŸªª KYC Ù…Ø¹Ù„Ù‚",-1))])]),t("div",st,[t("button",{onClick:e[0]||(e[0]=s=>i.value="transactions"),class:d(["rk-section-btn",i.value==="transactions"?"rk-section-active":""])},"ğŸ” Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ø´Ø¨ÙˆÙ‡Ø©",2),t("button",{onClick:e[1]||(e[1]=s=>i.value="users"),class:d(["rk-section-btn",i.value==="users"?"rk-section-active":""])},"ğŸ‘¥ Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ù…ÙˆÙ‚ÙˆÙÙˆÙ†",2),t("button",{onClick:e[2]||(e[2]=s=>i.value="frozen"),class:d(["rk-section-btn",i.value==="frozen"?"rk-section-active":""])},"â„ï¸ Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø¬Ù…Ù‘Ø¯Ø©",2)]),i.value==="transactions"?(n(),o("div",et,[e[15]||(e[15]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ” Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø´Ø¨ÙˆÙ‡Ø© â€” ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ø·Ø±",-1)),t("div",lt,[t("table",nt,[e[14]||(e[14]=t("thead",null,[t("tr",null,[t("th",null,"Ø§Ù„Ù…Ø±Ø³Ù„"),t("th",null,"Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„"),t("th",null,"Ø§Ù„Ù…Ø¨Ù„Øº"),t("th",null,"Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø±"),t("th",null,"ØªÙ‚ÙŠÙŠÙ…"),t("th",null,"Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨"),t("th",null,"Ø§Ù„ØªØ§Ø±ÙŠØ®"),t("th",null,"Ø¥Ø¬Ø±Ø§Ø¡")])],-1)),t("tbody",null,[(n(!0),o(u,null,x(a.largeTransactions,s=>(n(),o("tr",{key:s.id},[t("td",null,[t("div",ot,[t("div",at,l(s.from_account?.user?.full_name?.charAt(0)||"?"),1),t("div",null,[t("div",rt,l(s.from_account?.user?.full_name||"â€”"),1),t("div",it,l(s.from_account?.user?.customer_number),1)])])]),t("td",dt,l(s.to_account?.user?.full_name||"â€”"),1),t("td",ct,l(v(s.amount))+" "+l(s.currency?.symbol),1),t("td",null,[t("span",{class:d([g(s.risk_level),"rk-risk-badge"])},l(y(s.risk_level)),3)]),t("td",null,[t("div",ut,[t("div",{class:d(["rk-score-fill",s.risk_score>=60?"rk-sf-red":s.risk_score>=30?"rk-sf-yellow":"rk-sf-green"]),style:C({width:s.risk_score+"%"})},null,6)]),t("span",{class:d(["text-[10px] font-mono",s.risk_score>=60?"text-red-500":"text-[#8896AB]"])},l(s.risk_score)+"/100",3)]),t("td",null,[t("div",kt,[(n(!0),o(u,null,x(s.risk_flags,(p,B)=>(n(),o("span",{key:B,class:"rk-flag"},l(p),1))),128))])]),t("td",mt,l(b(s.created_at)),1),t("td",null,[s.from_account?.user?(n(),z(m(f),{key:0,href:r.route("admin.users.show",s.from_account.user.id),class:"rk-link"},{default:_(()=>[...e[13]||(e[13]=[h("ÙØ­Øµ â†",-1)])]),_:1},8,["href"])):c("",!0)])]))),128))])]),a.largeTransactions?.length?c("",!0):(n(),o("div",_t,"âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ø´Ø¨ÙˆÙ‡Ø© Ø­Ø§Ù„ÙŠØ§Ù‹"))])])):c("",!0),i.value==="users"?(n(),o("div",xt,[e[18]||(e[18]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…ÙˆÙ‚ÙˆÙÙˆÙ† ÙˆØ§Ù„Ù…Ø­Ø¸ÙˆØ±ÙˆÙ†",-1)),t("div",ft,[t("table",ht,[e[17]||(e[17]=t("thead",null,[t("tr",null,[t("th",null,"Ø§Ù„Ø¹Ù…ÙŠÙ„"),t("th",null,"Ø§Ù„Ø¨Ø±ÙŠØ¯"),t("th",null,"Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„"),t("th",null,"Ø§Ù„Ø­Ø§Ù„Ø©"),t("th",null,"KYC"),t("th",null,"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„"),t("th",null,"Ø¥Ø¬Ø±Ø§Ø¡")])],-1)),t("tbody",null,[(n(!0),o(u,null,x(a.suspiciousUsers,s=>(n(),o("tr",{key:s.id},[t("td",null,[t("div",vt,[t("div",bt,l(s.full_name?.charAt(0)),1),t("span",gt,l(s.full_name),1)])]),t("td",yt,l(s.email),1),t("td",At,l(s.customer_number),1),t("td",null,[t("span",{class:d([s.status==="suspended"?"rk-risk-med":"rk-risk-high","rk-risk-badge"])},l(s.status==="suspended"?"âš ï¸ Ù…ÙˆÙ‚ÙˆÙ":"ğŸš« Ù…Ø­Ø¸ÙˆØ±"),3)]),t("td",null,[t("span",{class:d([s.kyc_status==="verified"?"rk-badge-green":"rk-badge-yellow","rk-badge-sm"])},l(s.kyc_status),3)]),t("td",pt,l(b(s.created_at)),1),t("td",null,[k(m(f),{href:r.route("admin.users.show",s.id),class:"rk-link"},{default:_(()=>[...e[16]||(e[16]=[h("ÙØ­Øµ â†",-1)])]),_:1},8,["href"])])]))),128))])]),a.suspiciousUsers?.length?c("",!0):(n(),o("div",Bt,"âœ… Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ù…ÙˆÙ‚ÙˆÙÙˆÙ†"))])])):c("",!0),i.value==="frozen"?(n(),o("div",wt,[e[21]||(e[21]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"â„ï¸ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø¬Ù…Ù‘Ø¯Ø©",-1)),t("div",Ct,[t("table",zt,[e[20]||(e[20]=t("thead",null,[t("tr",null,[t("th",null,"Ø§Ù„Ø­Ø³Ø§Ø¨"),t("th",null,"Ø§Ù„Ø¹Ù…ÙŠÙ„"),t("th",null,"IBAN"),t("th",null,"Ø§Ù„Ø¹Ù…Ù„Ø©"),t("th",null,"Ø§Ù„Ø±ØµÙŠØ¯"),t("th",null,"Ø¥Ø¬Ø±Ø§Ø¡")])],-1)),t("tbody",null,[(n(!0),o(u,null,x(a.frozenAccounts,s=>(n(),o("tr",{key:s.id},[t("td",Ft,l(s.account_number),1),t("td",null,[t("div",Dt,[t("div",Nt,l(s.user?.full_name?.charAt(0)),1),t("span",St,l(s.user?.full_name),1)])]),t("td",Et,l(s.iban),1),t("td",null,[t("span",Lt,l(s.currency?.symbol),1),h(" "+l(s.currency?.code),1)]),t("td",Tt,l(v(s.balance))+" "+l(s.currency?.symbol),1),t("td",null,[k(m(f),{href:r.route("admin.accounts"),class:"rk-link"},{default:_(()=>[...e[19]||(e[19]=[h("Ø¥Ø¯Ø§Ø±Ø© â†",-1)])]),_:1},8,["href"])])]))),128))])]),a.frozenAccounts?.length?c("",!0):(n(),o("div",Ut,"âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø¬Ù…Ù‘Ø¯Ø©"))])])):c("",!0)])])])]),_:1})],64))}},jt=N(Vt,[["__scopeId","data-v-f5947938"]]);export{jt as default};

import{r as f,u as R,c as d,a as y,b as u,h as U,w as B,d as t,t as l,l as C,e as F,o as i,f as m,n as v,g,i as I,v as k,F as h,j as S,m as E,p as L,T as M,q as H,s as O,x as j}from"./app-CGeM4hcv.js";import{_ as P}from"./AuthenticatedLayout-DuDTvB04.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DgnepM2X.js";const q={class:"ac-root"},G={class:"ac-header"},X={class:"max-w-7xl mx-auto px-6 py-6 flex items-center justify-between"},Y={class:"text-sm text-[#8896AB] mt-1"},J={key:0,class:"max-w-7xl mx-auto px-6 mt-4"},Q={class:"bg-emerald-50 border border-emerald-200 rounded-xl px-4 py-3 text-emerald-700 text-sm"},W={class:"max-w-7xl mx-auto px-6 py-6 space-y-6"},Z={class:"grid grid-cols-4 lg:grid-cols-8 gap-3"},tt={class:"ac-stat lg:col-span-1"},st={class:"text-2xl font-black text-[#1A2B4A]"},et={class:"text-2xl font-black text-emerald-600"},lt={class:"text-2xl font-black text-[#1E5EFF]"},at={class:"text-2xl font-black text-red-500"},nt={class:"text-2xl font-black text-gray-400"},it={class:"ac-stat"},ot={class:"text-2xl font-black text-purple-600"},dt={class:"ac-stat"},rt={class:"text-2xl font-black text-amber-600"},ct={class:"ac-stat"},ut={class:"text-xl font-black text-emerald-600"},xt={class:"flex items-center gap-3"},mt={class:"ac-card overflow-hidden"},vt={class:"overflow-x-auto"},pt={class:"ac-table"},bt=["onClick"],_t={class:"flex items-center gap-3"},ft={class:"text-sm font-semibold text-[#1A2B4A]"},yt={class:"text-[10px] font-mono text-[#1E5EFF]"},gt={class:"font-mono text-xs text-[#8896AB]"},kt={class:"text-lg"},ht={class:"text-center"},At={class:"text-[#1A2B4A] font-semibold"},wt={class:"text-[#1A2B4A] font-semibold"},Bt={class:"text-[#8896AB] text-sm"},Ct={class:"flex justify-center gap-1"},Ft=["onClick"],Et=["onClick"],Dt=["onClick"],$t=["onClick"],St={key:0,class:"ac-expanded-row"},Lt={colspan:"9"},jt={class:"p-4 mx-2 my-1"},zt={class:"grid grid-cols-2 gap-4"},Vt={class:"flex justify-between items-start mb-6"},Tt={class:"text-white/80 text-xs font-semibold"},Nt={class:"text-white text-xl font-mono tracking-[4px] mb-4"},Rt={class:"flex justify-between items-end"},Ut={class:"text-white font-semibold text-sm"},It={class:"text-left"},Mt={class:"text-white font-semibold text-sm"},Ht={class:"space-y-2"},Ot={class:"ac-detail-row"},Pt={class:"font-semibold text-[#1A2B4A]"},Kt={class:"ac-detail-row"},qt={class:"ac-detail-row"},Gt={class:"font-mono text-[#1E5EFF]"},Xt={class:"ac-detail-row"},Yt={class:"font-bold text-emerald-600"},Jt={class:"ac-detail-row"},Qt={class:"ac-detail-row"},Wt={class:"ac-detail-row"},Zt={class:"ac-detail-row"},ts={class:"font-bold"},ss={class:"ac-detail-row"},es={key:0,class:"flex justify-center gap-2 mt-6"},ls={class:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl border border-[#E8ECF1]",style:{direction:"rtl"}},as={class:"text-[#8896AB] text-sm mb-2"},ns={class:"p-3 bg-[#F0F4FF] rounded-xl mb-4 text-sm grid grid-cols-3 gap-2"},is={class:"font-bold text-[#1A2B4A]"},os={class:"font-bold text-[#1A2B4A]"},ds={class:"font-bold text-[#1A2B4A]"},rs={class:"flex gap-3"},cs=["disabled"],us={__name:"Cards",props:{cards:Object,filters:Object,stats:Object},setup(o){const D=o,$=H(()=>O().props.flash||{}),b=f(D.filters?.search||""),a=f(D.filters?.status||""),p=()=>j.get(route("admin.cards"),{search:b.value,status:a.value||void 0},{preserveState:!0}),r=f(null),c=R({daily_limit:"",monthly_limit:"",spending_limit:""}),z=n=>{r.value=n,c.daily_limit=n.daily_limit,c.monthly_limit=n.monthly_limit,c.spending_limit=n.spending_limit},V=()=>c.patch(route("admin.cards.limits",r.value.id),{onSuccess:()=>r.value=null}),A=(n,s)=>{s==="cancelled"&&!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù„ØºØ§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ")||j.patch(route("admin.cards.status",n.id),{status:s})},w=f(null),T=n=>w.value=w.value===n?null:n,N={active:"ac-badge-green",frozen:"ac-badge-blue",expired:"ac-badge-gray",cancelled:"ac-badge-red"},x=n=>Number(n).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(n,s)=>(i(),d(h,null,[y(u(U),{title:"Cards - Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª"}),y(P,null,{default:B(()=>[t("div",q,[t("div",G,[t("div",X,[t("div",null,[s[12]||(s[12]=t("h1",{class:"text-2xl font-bold text-[#1A2B4A]"},"ðŸ’³ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª",-1)),t("p",Y,l(o.cards.total)+" Ø¨Ø·Ø§Ù‚Ø© â€” ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø­Ø¯ÙˆØ¯ ÙˆØ§Ù„Ø­Ø§Ù„Ø§Øª ÙˆØ§Ù„ØªÙØ§ØµÙŠÙ„",1)]),y(u(C),{href:n.route("admin.dashboard"),class:"ac-back"},{default:B(()=>[...s[13]||(s[13]=[F("â† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",-1)])]),_:1},8,["href"])])]),$.value.success?(i(),d("div",J,[t("div",Q,"âœ“ "+l($.value.success),1)])):m("",!0),t("div",W,[t("div",Z,[t("div",tt,[t("div",st,l(o.stats.total),1),s[14]||(s[14]=t("div",{class:"text-[10px] text-[#8896AB]"},"Ø§Ù„ÙƒÙ„",-1))]),t("button",{onClick:s[0]||(s[0]=e=>{a.value=a.value==="active"?"":"active",p()}),class:v([{"ac-stat-active-g":a.value==="active"},"ac-stat"])},[t("div",et,l(o.stats.active),1),s[15]||(s[15]=t("div",{class:"text-[10px] text-[#8896AB]"},"âœ… Ù†Ø´Ø·",-1))],2),t("button",{onClick:s[1]||(s[1]=e=>{a.value=a.value==="frozen"?"":"frozen",p()}),class:v([{"ac-stat-active-b":a.value==="frozen"},"ac-stat"])},[t("div",lt,l(o.stats.frozen),1),s[16]||(s[16]=t("div",{class:"text-[10px] text-[#8896AB]"},"â„ï¸ Ù…Ø¬Ù…Ù‘Ø¯",-1))],2),t("button",{onClick:s[2]||(s[2]=e=>{a.value=a.value==="cancelled"?"":"cancelled",p()}),class:v([{"ac-stat-active-r":a.value==="cancelled"},"ac-stat"])},[t("div",at,l(o.stats.cancelled),1),s[17]||(s[17]=t("div",{class:"text-[10px] text-[#8896AB]"},"ðŸš« Ù…Ù„ØºÙŠ",-1))],2),t("button",{onClick:s[3]||(s[3]=e=>{a.value=a.value==="expired"?"":"expired",p()}),class:v([{"ac-stat-active-g":a.value==="expired"},"ac-stat"])},[t("div",nt,l(o.stats.expired),1),s[18]||(s[18]=t("div",{class:"text-[10px] text-[#8896AB]"},"â° Ù…Ù†ØªÙ‡ÙŠ",-1))],2),t("div",it,[t("div",ot,l(o.stats.virtual),1),s[19]||(s[19]=t("div",{class:"text-[10px] text-[#8896AB]"},"ðŸŒ Ø§ÙØªØ±Ø§Ø¶ÙŠ",-1))]),t("div",dt,[t("div",rt,l(o.stats.physical),1),s[20]||(s[20]=t("div",{class:"text-[10px] text-[#8896AB]"},"ðŸ“¦ ÙØ¹Ù„ÙŠ",-1))]),t("div",ct,[t("div",ut,l(x(o.stats.total_daily_limit)),1),s[21]||(s[21]=t("div",{class:"text-[10px] text-[#8896AB]"},"Ø­Ø¯ÙˆØ¯ ÙŠÙˆÙ…ÙŠØ©",-1))])]),t("div",xt,[g(t("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>b.value=e),onKeyup:I(p,["enter"]),type:"text",placeholder:"Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©ØŒ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„...",class:"ac-search"},null,544),[[k,b.value]]),b.value||a.value?(i(),d("button",{key:0,onClick:s[5]||(s[5]=e=>{b.value="",a.value="",p()}),class:"ac-clear-btn"},"âœ• Ù…Ø³Ø­")):m("",!0)]),t("div",mt,[t("div",vt,[t("table",pt,[s[36]||(s[36]=t("thead",null,[t("tr",null,[t("th",null,"Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©"),t("th",null,"Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©"),t("th",null,"Ø§Ù„Ù†ÙˆØ¹"),t("th",null,"Ø§Ù„Ø¹Ù…Ù„Ø©"),t("th",{class:"text-center"},"Ø§Ù„Ø­Ø§Ù„Ø©"),t("th",null,"Ø§Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ"),t("th",null,"Ø§Ù„Ø­Ø¯ Ø§Ù„Ø´Ù‡Ø±ÙŠ"),t("th",null,"Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©"),t("th",{class:"text-center"},"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),t("tbody",null,[(i(!0),d(h,null,S(o.cards.data,e=>(i(),d(h,{key:e.id},[t("tr",{onClick:_=>T(e.id),class:"cursor-pointer"},[t("td",null,[t("div",_t,[s[22]||(s[22]=t("div",{class:"ac-avatar"},"ðŸ’³",-1)),t("div",null,[t("div",ft,l(e.user?.full_name),1),t("div",yt,l(e.user?.customer_number),1)])])]),t("td",gt,l(e.card_number_masked),1),t("td",null,[t("span",{class:v(["ac-type-badge",e.card_type==="virtual"?"ac-type-virtual":"ac-type-physical"])},l(e.card_type==="virtual"?"ðŸŒ Ø§ÙØªØ±Ø§Ø¶ÙŠ":"ðŸ“¦ ÙØ¹Ù„ÙŠ"),3)]),t("td",null,[t("span",kt,l(e.account?.currency?.symbol),1),F(" "+l(e.account?.currency?.code),1)]),t("td",ht,[t("span",{class:v([N[e.status],"ac-badge"])},l(e.status==="active"?"Ù†Ø´Ø·":e.status==="frozen"?"Ù…Ø¬Ù…Ù‘Ø¯":e.status==="cancelled"?"Ù…Ù„ØºÙŠ":"Ù…Ù†ØªÙ‡ÙŠ"),3)]),t("td",At,l(x(e.daily_limit)),1),t("td",wt,l(x(e.monthly_limit)),1),t("td",Bt,l(e.formatted_expiry||new Date(e.expiry_date).toLocaleDateString("en",{month:"2-digit",year:"2-digit"})),1),t("td",{class:"text-center",onClick:s[6]||(s[6]=E(()=>{},["stop"]))},[t("div",Ct,[t("button",{onClick:_=>z(e),class:"ac-act ac-act-yellow"},"ðŸ“ Ø­Ø¯ÙˆØ¯",8,Ft),e.status==="active"?(i(),d("button",{key:0,onClick:_=>A(e,"frozen"),class:"ac-act ac-act-blue"},"â„ï¸",8,Et)):m("",!0),e.status==="frozen"?(i(),d("button",{key:1,onClick:_=>A(e,"active"),class:"ac-act ac-act-green"},"âœ…",8,Dt)):m("",!0),e.status!=="cancelled"?(i(),d("button",{key:2,onClick:_=>A(e,"cancelled"),class:"ac-act ac-act-red"},"ðŸš«",8,$t)):m("",!0),y(u(C),{href:n.route("admin.users.show",e.user?.id),class:"ac-act ac-act-purple"},{default:B(()=>[...s[23]||(s[23]=[F("ðŸ‘¤",-1)])]),_:1},8,["href"])])])],8,bt),w.value===e.id?(i(),d("tr",St,[t("td",Lt,[t("div",jt,[t("div",zt,[t("div",{class:v(["ac-visual-card",e.card_type==="virtual"?"ac-visual-virtual":"ac-visual-physical"])},[t("div",Vt,[t("span",Tt,l(e.card_type==="virtual"?"VIRTUAL CARD":"PHYSICAL CARD"),1),s[24]||(s[24]=t("span",{class:"text-white font-bold text-sm"},"SDB",-1))]),t("div",Nt,l(e.card_number_masked),1),t("div",Rt,[t("div",null,[s[25]||(s[25]=t("div",{class:"text-white/60 text-[10px]"},"CARD HOLDER",-1)),t("div",Ut,l(e.card_holder_name),1)]),t("div",It,[s[26]||(s[26]=t("div",{class:"text-white/60 text-[10px]"},"EXPIRES",-1)),t("div",Mt,l(e.formatted_expiry||"â€”"),1)])])],2),t("div",Ht,[t("div",Ot,[s[27]||(s[27]=t("span",null,"Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©",-1)),t("span",Pt,l(e.card_holder_name),1)]),t("div",Kt,[s[28]||(s[28]=t("span",null,"Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©",-1)),t("span",null,l(e.card_type==="virtual"?"Ø§ÙØªØ±Ø§Ø¶ÙŠØ©":"ÙØ¹Ù„ÙŠØ©"),1)]),t("div",qt,[s[29]||(s[29]=t("span",null,"Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø±Ø¨ÙˆØ·",-1)),t("span",Gt,l(e.account?.iban||"â€”"),1)]),t("div",Xt,[s[30]||(s[30]=t("span",null,"Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨",-1)),t("span",Yt,l(x(e.account?.balance||0))+" "+l(e.account?.currency?.symbol),1)]),t("div",Jt,[s[31]||(s[31]=t("span",null,"Ø§Ù„Ø¯ÙØ¹ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†",-1)),t("span",null,l(e.online_payment_enabled?"âœ… Ù…ÙØ¹Ù‘Ù„":"âŒ Ù…Ø¹Ø·Ù‘Ù„"),1)]),t("div",Qt,[s[32]||(s[32]=t("span",null,"Ø³Ø­Ø¨ ATM",-1)),t("span",null,l(e.atm_withdrawal_enabled?"âœ… Ù…ÙØ¹Ù‘Ù„":"âŒ Ù…Ø¹Ø·Ù‘Ù„"),1)]),t("div",Wt,[s[33]||(s[33]=t("span",null,"Ù„Ø§ØªÙ„Ø§Ù…Ø³ÙŠ NFC",-1)),t("span",null,l(e.contactless_enabled?"âœ… Ù…ÙØ¹Ù‘Ù„":"âŒ Ù…Ø¹Ø·Ù‘Ù„"),1)]),t("div",Zt,[s[34]||(s[34]=t("span",null,"Ø­Ø¯ Ø§Ù„Ø¥Ù†ÙØ§Ù‚",-1)),t("span",ts,l(x(e.spending_limit||0)),1)]),t("div",ss,[s[35]||(s[35]=t("span",null,"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±",-1)),t("span",null,l(new Date(e.created_at).toLocaleDateString("ar-EG",{day:"numeric",month:"short",year:"numeric"})),1)])])])])])])):m("",!0)],64))),128))])])])]),o.cards.last_page>1?(i(),d("div",es,[(i(!0),d(h,null,S(o.cards.links,e=>(i(),L(u(C),{key:e.label,href:e.url||"#",class:v(["ac-pg",e.active?"ac-pg-act":""]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])):m("",!0)]),(i(),L(M,{to:"body"},[r.value?(i(),d("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:s[11]||(s[11]=E(e=>r.value=null,["self"]))},[t("div",ls,[s[43]||(s[43]=t("h3",{class:"text-xl font-bold text-[#1A2B4A] mb-1"},"ðŸ“ ØªØ¹Ø¯ÙŠÙ„ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©",-1)),t("p",as,l(r.value.user?.full_name)+" â€” "+l(r.value.card_number_masked),1),t("div",ns,[t("div",null,[s[37]||(s[37]=t("span",{class:"text-[#8896AB] text-xs block"},"ÙŠÙˆÙ…ÙŠ Ø­Ø§Ù„ÙŠ",-1)),t("span",is,l(x(r.value.daily_limit)),1)]),t("div",null,[s[38]||(s[38]=t("span",{class:"text-[#8896AB] text-xs block"},"Ø´Ù‡Ø±ÙŠ Ø­Ø§Ù„ÙŠ",-1)),t("span",os,l(x(r.value.monthly_limit)),1)]),t("div",null,[s[39]||(s[39]=t("span",{class:"text-[#8896AB] text-xs block"},"Ø¥Ù†ÙØ§Ù‚ Ø­Ø§Ù„ÙŠ",-1)),t("span",ds,l(x(r.value.spending_limit)),1)])]),t("form",{onSubmit:E(V,["prevent"]),class:"space-y-4"},[t("div",null,[s[40]||(s[40]=t("label",{class:"block text-xs text-[#8896AB] mb-1"},"Ø§Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯",-1)),g(t("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>u(c).daily_limit=e),type:"number",step:"0.01",class:"ac-modal-input"},null,512),[[k,u(c).daily_limit]])]),t("div",null,[s[41]||(s[41]=t("label",{class:"block text-xs text-[#8896AB] mb-1"},"Ø§Ù„Ø­Ø¯ Ø§Ù„Ø´Ù‡Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯",-1)),g(t("input",{"onUpdate:modelValue":s[8]||(s[8]=e=>u(c).monthly_limit=e),type:"number",step:"0.01",class:"ac-modal-input"},null,512),[[k,u(c).monthly_limit]])]),t("div",null,[s[42]||(s[42]=t("label",{class:"block text-xs text-[#8896AB] mb-1"},"Ø­Ø¯ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯",-1)),g(t("input",{"onUpdate:modelValue":s[9]||(s[9]=e=>u(c).spending_limit=e),type:"number",step:"0.01",class:"ac-modal-input"},null,512),[[k,u(c).spending_limit]])]),t("div",rs,[t("button",{type:"submit",disabled:u(c).processing,class:"flex-1 bg-[#1E5EFF] hover:bg-[#1047b8] text-white py-3 rounded-xl font-semibold disabled:opacity-50"},"Ø­ÙØ¸",8,cs),t("button",{type:"button",onClick:s[10]||(s[10]=e=>r.value=null),class:"flex-1 bg-[#F0F2F5] text-[#5A6B82] py-3 rounded-xl"},"Ø¥Ù„ØºØ§Ø¡")])],32)])])):m("",!0)]))])]),_:1})],64))}},bs=K(us,[["__scopeId","data-v-789b606f"]]);export{bs as default};

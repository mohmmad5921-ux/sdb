import{r as N,c as l,a as p,b as h,h as T,w as f,d as t,o as n,F as i,j as c,l as g,n as v,t as o,y as b,f as U,e as j,x as D,q as x}from"./app-CGeM4hcv.js";import{_ as L}from"./AuthenticatedLayout-DuDTvB04.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DgnepM2X.js";const O={class:"rp-root"},R={class:"rp-sidebar"},z={class:"rp-nav"},K={class:"rp-main"},P={class:"rp-topbar"},$={class:"flex items-center gap-2"},q=["onClick"],I={class:"rp-content"},Y={class:"grid grid-cols-4 gap-4"},G={class:"rp-sum-card"},H={class:"text-2xl font-black text-[#1A2B4A]"},J={class:"rp-sum-card"},Q={class:"text-2xl font-black text-emerald-600"},W={class:"rp-sum-card"},X={class:"text-2xl font-black text-purple-600"},Z={class:"rp-sum-card"},tt={class:"text-2xl font-black text-amber-600"},st={class:"grid grid-cols-2 gap-4"},et={class:"rp-chart-card"},ot={class:"rp-bar-chart"},at={class:"rp-bar-wrapper"},lt={class:"text-[9px] text-[#8896AB] mt-1"},nt={class:"text-[8px] text-[#1E5EFF] font-bold"},rt={class:"rp-chart-card"},dt={class:"rp-bar-chart"},it={class:"rp-bar-wrapper"},ct={class:"text-[9px] text-[#8896AB] mt-1"},ut={class:"text-[8px] text-emerald-600 font-bold"},mt={class:"grid grid-cols-2 gap-4"},xt={class:"rp-chart-card"},pt={class:"rp-bar-chart"},vt={class:"rp-bar-wrapper"},bt={class:"text-[9px] text-[#8896AB] mt-1"},_t={class:"text-[8px] text-purple-600 font-bold"},ht={class:"rp-chart-card"},ft={class:"rp-bar-chart"},yt={class:"rp-bar-wrapper"},gt={class:"text-[9px] text-[#8896AB] mt-1"},At={class:"text-[8px] text-amber-600 font-bold"},Bt={class:"grid grid-cols-3 gap-4"},kt={class:"rp-card"},wt={class:"space-y-2"},Vt={class:"flex items-center gap-2"},Ft={class:"font-semibold text-[#1A2B4A] text-sm"},Mt={class:"flex items-center gap-3"},St={class:"text-xs text-[#8896AB]"},Ct={class:"font-bold text-sm text-[#1A2B4A]"},Nt={key:0,class:"text-center text-sm text-[#8896AB] py-4"},Tt={class:"rp-card"},Ut={class:"space-y-2"},jt={class:"flex items-center gap-3"},Dt={class:"text-xs text-[#8896AB]"},Lt={class:"font-bold text-sm text-[#1A2B4A]"},Et={class:"rp-card"},Ot={class:"space-y-2"},Rt={class:"flex items-center gap-2"},zt={class:"text-lg"},Kt={class:"font-semibold text-sm text-[#1A2B4A]"},Pt={class:"flex items-center gap-3"},$t={class:"text-xs text-[#8896AB]"},qt={class:"font-bold text-sm text-emerald-600"},It={class:"rp-card"},Yt={class:"overflow-x-auto"},Gt={class:"rp-table"},Ht={class:"flex items-center gap-2"},Jt={class:"rp-avatar"},Qt={class:"font-semibold text-[#1A2B4A]"},Wt={class:"font-mono text-xs text-[#1E5EFF]"},Xt={class:"font-semibold"},Zt={class:"font-bold text-emerald-600"},ts={__name:"Reports",props:{period:String,txByType:Object,txByStatus:Object,dailyVolume:Array,dailyUsers:Array,totalFees:Number,totalVolume:Number,topUsers:Array,currencyDist:Array},setup(d){const m=d,y=N(m.period||"30"),A=a=>{y.value=a,D.get(route("admin.reports"),{period:a},{preserveState:!0})},B=a=>Number(a).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),u=a=>a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":Number(a).toLocaleString(),k={transfer:"ØªØ­ÙˆÙŠÙ„Ø§Øª",deposit:"Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª",withdrawal:"Ø³Ø­ÙˆØ¨Ø§Øª",exchange:"ØµØ±Ù Ø¹Ù…Ù„Ø§Øª",card_payment:"Ø¨Ø·Ø§Ù‚Ø§Øª",fee:"Ø±Ø³ÙˆÙ…"},w={completed:"Ù…ÙƒØªÙ…Ù„Ø©",pending:"Ù…Ø¹Ù„Ù‚Ø©",failed:"ÙØ§Ø´Ù„Ø©",reversed:"Ù…Ø±ØªØ¬Ø¹Ø©"},V=x(()=>Math.max(...(m.dailyVolume||[]).map(a=>a.volume),1)),F=x(()=>Math.max(...(m.dailyVolume||[]).map(a=>a.count),1)),M=x(()=>Math.max(...(m.dailyUsers||[]).map(a=>a.count),1)),_=x(()=>Object.values(m.txByType||{}).reduce((a,e)=>a+(e.count||0),0)),S=x(()=>Object.values(m.txByType||{}).reduce((a,e)=>a+parseFloat(e.total_amount||0),0)),C=[{label:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…",icon:"ğŸ“Š",route:"admin.dashboard"},{label:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",icon:"ğŸ“ˆ",route:"admin.reports",active:!0},{label:"Ø§Ù„Ù…Ø®Ø§Ø·Ø±",icon:"ğŸ›¡ï¸",route:"admin.risk"},{label:"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",icon:"ğŸ‘¥",route:"admin.users"},{label:"Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª",icon:"ğŸ¦",route:"admin.accounts"},{label:"Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª",icon:"ğŸ’³",route:"admin.cards"},{label:"Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª",icon:"ğŸ’¸",route:"admin.transactions"},{label:"KYC",icon:"ğŸªª",route:"admin.kyc"},{label:"Ø§Ù„Ø¹Ù…Ù„Ø§Øª",icon:"ğŸ’±",route:"admin.currencies"},{label:"Ø§Ù„ØªØ¬Ø§Ø±",icon:"ğŸ”Œ",route:"admin.merchants"},{label:"Ø§Ù„Ø¯Ø¹Ù…",icon:"ğŸ§",route:"admin.support"},{label:"Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚",icon:"ğŸ“‹",route:"admin.audit-logs"},{label:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",icon:"âš™ï¸",route:"admin.settings"}];return(a,e)=>(n(),l(i,null,[p(h(T),{title:"Reports - Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©"}),p(L,null,{default:f(()=>[t("div",O,[t("aside",R,[e[0]||(e[0]=t("div",{class:"rp-logo"},[t("span",{class:"text-lg font-black text-[#1A2B4A]"},"SDB Admin")],-1)),t("nav",z,[(n(),l(i,null,c(C,s=>p(h(g),{key:s.route,href:a.route(s.route),class:v(["rp-nav-item",s.active?"rp-nav-active":""])},{default:f(()=>[t("span",null,o(s.icon),1),t("span",null,o(s.label),1)]),_:2},1032,["href","class"])),64))])]),t("main",K,[t("header",P,[e[1]||(e[1]=t("h2",{class:"text-lg font-bold text-[#1A2B4A]"},"ğŸ“ˆ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©",-1)),t("div",$,[(n(),l(i,null,c([{v:"7",l:"7 Ø£ÙŠØ§Ù…"},{v:"14",l:"14 ÙŠÙˆÙ…"},{v:"30",l:"Ø´Ù‡Ø±"},{v:"90",l:"3 Ø£Ø´Ù‡Ø±"}],s=>t("button",{key:s.v,onClick:r=>A(s.v),class:v(["rp-period",y.value==s.v?"rp-period-active":""])},o(s.l),11,q)),64))])]),t("div",I,[t("div",Y,[t("div",G,[e[3]||(e[3]=t("div",{class:"rp-sum-icon",style:{background:"rgba(30,94,255,0.08)"}},"ğŸ’¸",-1)),t("div",null,[e[2]||(e[2]=t("div",{class:"text-xs text-[#8896AB]"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬Ù…",-1)),t("div",H,o(u(d.totalVolume))+" â‚¬",1)])]),t("div",J,[e[5]||(e[5]=t("div",{class:"rp-sum-icon",style:{background:"rgba(16,185,129,0.08)"}},"ğŸ’°",-1)),t("div",null,[e[4]||(e[4]=t("div",{class:"text-xs text-[#8896AB]"},"Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ…",-1)),t("div",Q,o(u(d.totalFees))+" â‚¬",1)])]),t("div",W,[e[7]||(e[7]=t("div",{class:"rp-sum-icon",style:{background:"rgba(139,92,246,0.08)"}},"ğŸ“Š",-1)),t("div",null,[e[6]||(e[6]=t("div",{class:"text-xs text-[#8896AB]"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª",-1)),t("div",X,o(B(_.value)),1)])]),t("div",Z,[e[9]||(e[9]=t("div",{class:"rp-sum-icon",style:{background:"rgba(245,158,11,0.08)"}},"ğŸ“‰",-1)),t("div",null,[e[8]||(e[8]=t("div",{class:"text-xs text-[#8896AB]"},"Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©",-1)),t("div",tt,o(_.value>0?u(S.value/_.value):"0")+" â‚¬",1)])])]),t("div",st,[t("div",et,[e[10]||(e[10]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ“ˆ Ø­Ø¬Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠ",-1)),t("div",ot,[(n(!0),l(i,null,c(d.dailyVolume,s=>(n(),l("div",{key:s.date,class:"rp-bar-col"},[t("div",at,[t("div",{class:"rp-bar",style:b({height:Math.max(s.volume/V.value*100,3)+"%"})},null,4)]),t("div",lt,o(s.date),1),t("div",nt,o(u(s.volume)),1)]))),128))])]),t("div",rt,[e[11]||(e[11]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠ",-1)),t("div",dt,[(n(!0),l(i,null,c(d.dailyVolume,s=>(n(),l("div",{key:s.date,class:"rp-bar-col"},[t("div",it,[t("div",{class:"rp-bar rp-bar-green",style:b({height:Math.max(s.count/F.value*100,3)+"%"})},null,4)]),t("div",ct,o(s.date),1),t("div",ut,o(s.count),1)]))),128))])])]),t("div",mt,[t("div",xt,[e[12]||(e[12]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ‘¥ Ù†Ù…Ùˆ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„ÙŠÙˆÙ…ÙŠ",-1)),t("div",pt,[(n(!0),l(i,null,c(d.dailyUsers,s=>(n(),l("div",{key:s.date,class:"rp-bar-col"},[t("div",vt,[t("div",{class:"rp-bar rp-bar-purple",style:b({height:Math.max(s.count/Math.max(M.value,1)*100,3)+"%"})},null,4)]),t("div",bt,o(s.date),1),t("div",_t,"+"+o(s.count),1)]))),128))])]),t("div",ht,[e[13]||(e[13]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ’° Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©",-1)),t("div",ft,[(n(!0),l(i,null,c(d.dailyVolume,s=>(n(),l("div",{key:s.date,class:"rp-bar-col"},[t("div",yt,[t("div",{class:"rp-bar rp-bar-amber",style:b({height:Math.max(s.fees/Math.max(...d.dailyVolume.map(r=>r.fees),1)*100,3)+"%"})},null,4)]),t("div",gt,o(s.date),1),t("div",At,o(u(s.fees)),1)]))),128))])])]),t("div",Bt,[t("div",kt,[e[14]||(e[14]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ“‹ ØªÙ‚Ø³ÙŠÙ… Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹",-1)),t("div",wt,[(n(!0),l(i,null,c(d.txByType,(s,r)=>(n(),l("div",{key:r,class:"rp-breakdown-row"},[t("div",Vt,[t("span",Ft,o(k[r]||r),1)]),t("div",Mt,[t("span",St,o(s.count)+" Ø¹Ù…Ù„ÙŠØ©",1),t("span",Ct,o(u(s.total_amount))+" â‚¬",1)])]))),128)),Object.keys(d.txByType||{}).length?U("",!0):(n(),l("div",Nt,"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª"))])]),t("div",Tt,[e[15]||(e[15]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ“Š ØªÙ‚Ø³ÙŠÙ… Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©",-1)),t("div",Ut,[(n(!0),l(i,null,c(d.txByStatus,(s,r)=>(n(),l("div",{key:r,class:"rp-breakdown-row"},[t("span",{class:v(["rp-status-badge",r==="completed"?"rp-s-green":r==="pending"?"rp-s-yellow":"rp-s-red"])},o(w[r]||r),3),t("div",jt,[t("span",Dt,o(s.count),1),t("span",Lt,o(u(s.total_amount))+" â‚¬",1)])]))),128))])]),t("div",Et,[e[16]||(e[16]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ’± ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Øª",-1)),t("div",Ot,[(n(!0),l(i,null,c(d.currencyDist,s=>(n(),l("div",{key:s.currency,class:"rp-breakdown-row"},[t("div",Rt,[t("span",zt,o(s.symbol),1),t("span",Kt,o(s.currency),1)]),t("div",Pt,[t("span",$t,o(s.accounts)+" Ø­Ø³Ø§Ø¨",1),t("span",qt,o(u(s.balance)),1)])]))),128))])])]),t("div",It,[e[19]||(e[19]=t("h3",{class:"text-sm font-bold text-[#1A2B4A] mb-4"},"ğŸ† Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø­Ø³Ø¨ Ø­Ø¬Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª",-1)),t("div",Yt,[t("table",Gt,[e[18]||(e[18]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Ø§Ù„Ø¹Ù…ÙŠÙ„"),t("th",null,"Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„"),t("th",null,"Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª"),t("th",null,"Ø­Ø¬Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª"),t("th",null,"Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª"),t("th",null,"Ø¥Ø¬Ø±Ø§Ø¡")])],-1)),t("tbody",null,[(n(!0),l(i,null,c(d.topUsers,(s,r)=>(n(),l("tr",{key:s.id},[t("td",null,[t("span",{class:v(["rp-rank",r<3?"rp-rank-top":""])},o(r+1),3)]),t("td",null,[t("div",Ht,[t("div",Jt,o(s.full_name?.charAt(0)),1),t("span",Qt,o(s.full_name),1)])]),t("td",Wt,o(s.customer_number),1),t("td",Xt,o(s.tx_count),1),t("td",Zt,o(u(s.tx_volume))+" â‚¬",1),t("td",null,o(s.accounts_count),1),t("td",null,[p(h(g),{href:a.route("admin.users.show",s.id),class:"rp-link"},{default:f(()=>[...e[17]||(e[17]=[j("Ø¹Ø±Ø¶ â†",-1)])]),_:1},8,["href"])])]))),128))])])])])])])])]),_:1})],64))}},ls=E(ts,[["__scopeId","data-v-2795102b"]]);export{ls as default};
